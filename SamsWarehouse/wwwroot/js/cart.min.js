function addListeners(){$("#createCart").submit(function(n){n.preventDefault();var t=document.getElementById("createCart");t.checkValidity()?createCart(document.getElementById("newCartName").value):n.stopPropagation();t.classList.add("was-validated")});document.querySelectorAll("[data-remove-cart-id]").forEach(n=>{n.addEventListener("click",()=>{var t=n.getAttribute("data-remove-cart-id");removeCart(t)})});document.querySelectorAll("[data-switch-cart-id]").forEach(n=>{n.addEventListener("click",()=>{var t=n.getAttribute("data-switch-cart-id");switchCart(t)})});document.querySelectorAll("[data-remove-from-cart-id]").forEach(n=>{n.addEventListener("click",()=>{var t=n.getAttribute("data-remove-from-cart-id");removeFromCart(t)})});document.querySelectorAll("[data-set-item-quantity-id]").forEach(n=>{n.addEventListener("change",()=>{var t=n.getAttribute("data-set-item-quantity-id"),i=n.value;setQuantityCart(t,i)})})}function updateCart(){CARTXHR!==null&&(CARTXHR.abort(),CARTXHR=null);CARTXHR=new XMLHttpRequest;CARTXHR.onreadystatechange=function(){if(this.readyState===4&&this.status===200){CART.innerHTML=this.responseText;let n=document.getElementById("total").innerHTML;document.getElementById("price").innerHTML=n;addListeners()}};CARTXHR.open("GET","/Cart/CartModal",!0);CARTXHR.send()}function switchCart(n){SWITCHCARTXHR!==null&&(SWITCHCARTXHR.abort(),SWITCHCARTXHR=null);SWITCHCARTXHR=new XMLHttpRequest;SWITCHCARTXHR.onreadystatechange=function(){if(this.readyState===4&&this.status===200){CART.innerHTML=this.responseText;let n=document.getElementById("total").innerHTML;document.getElementById("price").innerHTML=n;addListeners()}};SWITCHCARTXHR.open("GET","/Cart/"+n,!0);SWITCHCARTXHR.send()}function addToCart(n,t){ADDTOCARTXHR!==null&&(ADDTOCARTXHR.abort(),ADDTOCARTXHR=null);ADDTOCARTXHR=new XMLHttpRequest;ADDTOCARTXHR.onreadystatechange=function(){if(this.readyState===4&&this.status===200){CART.innerHTML=this.responseText;let n=document.getElementById("total").innerHTML;document.getElementById("price").innerHTML=n;addListeners()}};ADDTOCARTXHR.open("POST","/Cart/Items",!0);ADDTOCARTXHR.setRequestHeader("Content-Type","application/json;charset=UTF-8");ADDTOCARTXHR.send(JSON.stringify({ProductId:n,Quantity:t}))}function removeFromCart(n){REMOVEFROMCARTXHR!==null&&(REMOVEFROMCARTXHR.abort(),REMOVEFROMCARTXHR=null);REMOVEFROMCARTXHR=new XMLHttpRequest;REMOVEFROMCARTXHR.onreadystatechange=function(){if(this.readyState===4&&this.status===200){CART.innerHTML=this.responseText;let n=document.getElementById("total").innerHTML;document.getElementById("price").innerHTML=n;addListeners()}};REMOVEFROMCARTXHR.open("DELETE","/Cart/Items/"+n,!0);REMOVEFROMCARTXHR.send()}function setQuantityCart(n,t){SETQUANTITYCARTXHR!==null&&(SETQUANTITYCARTXHR.abort(),SETQUANTITYCARTXHR=null);SETQUANTITYCARTXHR=new XMLHttpRequest;SETQUANTITYCARTXHR.onreadystatechange=function(){if(this.readyState===4&&this.status===200){CART.innerHTML=this.responseText;let n=document.getElementById("total").innerHTML;document.getElementById("price").innerHTML=n;addListeners()}};SETQUANTITYCARTXHR.open("PUT","/Cart/Items",!0);SETQUANTITYCARTXHR.setRequestHeader("Content-Type","application/json;charset=UTF-8");SETQUANTITYCARTXHR.send(JSON.stringify({ProductId:n,Quantity:t}))}function createCart(n){CREATECARTXHR!==null&&(CREATECARTXHR.abort(),CREATECARTXHR=null);CREATECARTXHR=new XMLHttpRequest;CREATECARTXHR.onreadystatechange=function(){if(this.readyState===4&&this.status===200){CART.innerHTML=this.responseText;let n=document.getElementById("total").innerHTML;document.getElementById("price").innerHTML=n;addListeners()}};CREATECARTXHR.open("POST","/Cart",!0);CREATECARTXHR.setRequestHeader("Content-Type","application/json;charset=UTF-8");CREATECARTXHR.send(JSON.stringify({Name:n}))}function removeCart(n){DELETECARTXHR!==null&&(DELETECARTXHR.abort(),DELETECARTXHR=null);DELETECARTXHR=new XMLHttpRequest;DELETECARTXHR.onreadystatechange=function(){if(this.readyState===4&&this.status===200){CART.innerHTML=this.responseText;let n=document.getElementById("total").innerHTML;document.getElementById("price").innerHTML=n;addListeners()}};DELETECARTXHR.open("DELETE","/Cart/"+n,!0);DELETECARTXHR.send()}var CARTXHR,SWITCHCARTXHR,ADDTOCARTXHR,REMOVEFROMCARTXHR,SETQUANTITYCARTXHR,CREATECARTXHR,DELETECARTXHR;const CART=document.getElementById("cartContents");CARTXHR=null;SWITCHCARTXHR=null;ADDTOCARTXHR=null;REMOVEFROMCARTXHR=null;SETQUANTITYCARTXHR=null;CREATECARTXHR=null;DELETECARTXHR=null;document.querySelectorAll("[data-add-to-cart-id]").forEach(n=>{n.addEventListener("click",()=>{var t=n.getAttribute("data-add-to-cart-id");addToCart(t,1)})});updateCart();